<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Objective 5 - Managing Complex State</title>
<meta name="identifier" content="g1669974c9a36b5fa3eda07aefe0f4340"/>
<meta name="editing_roles" content="teachers"/>
<meta name="workflow_state" content="active"/>
</head>
<body>
<div class=" border border-trbl" style="background-color: #00808c; color: #ffffff; padding: 2px 10px; border: 1px solid black;">
<h3><strong>Overview</strong></h3>
</div>
<div class="content-box pad-box-mini border border-rbl">
<p>In this Objective we will learn to write more complicated reducers - of the type you will encounter whenever you need to track lists of objects and support 'create', 'update' and 'delete' operations on them.</p>
</div>
<div class="border border-trbl" style="background-color: #00808c; color: #ffffff; padding: 2px 10px; border: 1px solid black;">
<h3><strong>How to Build It</strong></h3>
</div>
<div class="content-box pad-box-mini border border-rbl">
<h4><strong>Introduction</strong></h4>
<p>Let's imagine our Redux app must support the following features:</p>
<ol style="list-style-type: decimal;">
<li>Should <strong>display</strong> friend <strong>names</strong> (and a little <strong>heart</strong> if the friend is one of the favorite ones).</li>
<li>Allow to <strong>delete</strong> a friend.</li>
<li>Allow to <strong>toggle</strong> the favorite status of a friend.</li>
<li>Allow to <strong>add</strong> a new friend by entering the name into the input box.</li>
</ol>
<p>This is what it might look like:</p>
<p><img style="max-width: 450px;" src="$IMS-CC-FILEBASE$/Uploaded%20Media/app-1.png" alt="prototype" data-api-endpoint="https://bloomtech.instructure.com/api/v1/courses/2204/files/746841" data-api-returntype="File" loading="lazy"></p>
<p>&nbsp;</p>
<h4><strong>Building the Slice</strong></h4>
<p>Getting to work on the 'friends' slice, this is how things might look like:</p>
<pre style="background: none 0% 0% / auto repeat scroll padding-box border-box #ffffff; border: 0.555556px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font: 12px / 14.4px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none solid #24292e; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;" data-hljs-language="javascript"><code style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0); border: 0px none #24292e; font: 16px / 19.2px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px;"><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">import</span> { createSlice } <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'@reduxjs/toolkit'</span><br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> slice = <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">createSlice</span>({<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'friends'</span>,<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">initialState</span>: {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">list</span>: [ <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ note the unique ID on each friend</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">id</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'ldo'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'Pam'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">fav</span>: <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">true</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">id</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'1sb'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'Jess'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">fav</span>: <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">false</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">id</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'xu7'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'Ana'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">fav</span>: <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">false</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">reducers</span>: {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">deleteFriend</span>(<span>state, action</span>) { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* TODO */</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">favFriend</span>(<span>state, action</span>) { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* TODO */</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">createFriend</span>(<span>state, action</span>) {&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* TODO */</span> }<br>&nbsp;&nbsp;}<br>})<br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">export</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">default</span> slice.<span>reducer</span><br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">export</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> {<br>&nbsp;&nbsp;deleteFriend, createFriend, favFriend,<br>} = slice.<span>actions</span></code></pre>
<p>&nbsp;</p>
<h4><strong>Writing Reducers for Delete and Update Operations</strong></h4>
<p>The 'deleteFriend' and 'favFriend' reducers are straightforward and similar to other reducers and state updaters you have written in the past, except that now we have Immer to make the work much easier:</p>
<pre style="background: none 0% 0% / auto repeat scroll padding-box border-box #ffffff; border: 0.555556px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font: 12px / 14.4px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none solid #24292e; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;" data-hljs-language="javascript"><code style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0); border: 0px none #24292e; font: 16px / 19.2px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px;"><span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">deleteFriend</span>(<span>state, action</span>) {<br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ the ID to delete comes inside action.payload</span><br>&nbsp;&nbsp;state.<span>list</span> = state.<span>list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;.<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">filter</span>(<span><span>fr</span> =&gt;</span> fr.<span>id</span> !== action.<span>payload</span>)<br>},<br><span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">favFriend</span>(<span>state, action</span>) {<br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ the ID to update comes inside action.payload</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> fr = state.<span>list</span><br>&nbsp;&nbsp;&nbsp;&nbsp;.<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">find</span>(<span><span>fr</span> =&gt;</span> fr.<span>id</span> === action.<span>payload</span>)<br>&nbsp;&nbsp;fr.<span>fav</span> = !fr.<span>fav</span><br>},</code></pre>
<p>&nbsp;</p>
<h4><strong>Problems Creating a New Friend</strong></h4>
<p>Creating a new friend has an unexpected complication. The component, when the user clicks on the 'create' button, can provide the desired name, but a presentational component should not be expected to 'know' that new friends have a 'fav' status of <code>false</code>, or be forced to generate a random ID.</p>
<p>On the other hand, generating a random ID also cannot be the job the 'createFriend' reducer. Reducers are supposed to be deterministic functions! No randomness is allowed inside of them.</p>
<p>Luckily, we can create a 'prepare' function that takes care of processing the argument sent by the component when it calls 'createFriend' (the desired name), and putting together a new payload for the reducer:</p>
<pre style="background: none 0% 0% / auto repeat scroll padding-box border-box #ffffff; border: 0.555556px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font: 12px / 14.4px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none solid #24292e; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;" data-hljs-language="javascript"><code style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0); border: 0px none #24292e; font: 16px / 19.2px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px;"><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">import</span> { createSlice } <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'@reduxjs/toolkit'</span><br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> slice = <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">createSlice</span>({<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'friends'</span>,<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">initialState</span>: {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">list</span>: [<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">id</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'ldo'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">name</span>: <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'Pam'</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">fav</span>: <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">true</span> }, <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* etc */</span><br>&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">reducers</span>: {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">createFriend</span>: { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ we change this to be an object</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">prepare</span>(<span>name</span>) { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ the component supplies the desired name</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> newFriend = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">fav</span>: <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ random ID generation:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">id</span>: <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">Math</span>.<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">random</span>().<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">toString</span>(<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">36</span>).<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">slice</span>(<span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">2</span>, <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">5</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">return</span> { <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">payload</span>: newFriend } <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ payload for the reducer</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">reducer</span>(<span>state, action</span>) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state.<span>list</span>.<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">push</span>(action.<span>payload</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">deleteFriend</span>(<span>state, action</span>) { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* etc */</span> },<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">favFriend</span>(<span>state, action</span>) { <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">/* etc */</span> },<br>&nbsp;&nbsp;}<br>})<br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">export</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">default</span> slice.<span>reducer</span><br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">export</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> {<br>&nbsp;&nbsp;deleteFriend, createFriend, favFriend,<br>} = slice.<span>actions</span></code></pre>
<p>&nbsp;</p>
<h4><strong>Friend Creation Fixed!</strong></h4>
<p>The component that calls 'createFriend' passing a string will cause the 'prepare' function to run and put together a proper friend object, which is then taken by the reducer from inside <code>action.payload</code>. Here is the component that dispatches the creation of a new friend:</p>
<pre style="background: none 0% 0% / auto repeat scroll padding-box border-box #ffffff; border: 0.555556px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font: 12px / 14.4px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none solid #24292e; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px;" data-hljs-language="javascript"><code style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0); border: 0px none #24292e; font: 16px / 19.2px Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px;"><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">import</span> <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">React</span>, { useRef } <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'react'</span><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">import</span> { useSelector, useDispatch } <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'react-redux'</span><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">import</span> { createFriend, deleteFriend, favFriend } <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">'../state/slice'</span><br><br><span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">export</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">default</span> <span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">function</span> <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">App</span>() {<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> friends = <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">useSelector</span>(<span><span>st</span> =&gt;</span> st.<span>friends</span>.<span>list</span>)<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> dispatch = <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">useDispatch</span>()<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">const</span> ref = <span style="border: 0px none #6f42c1; color: #6f42c1; text-decoration: none solid #6f42c1;">useRef</span>() <span style="border: 0px none #6a737d; color: #6a737d; text-decoration: none solid #6a737d;">// ❗ used to grab the input value from the DOM</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49; text-decoration: none solid #d73a49;">return</span> (<br>&nbsp;&nbsp;&nbsp;&nbsp;<span><span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">input</span> <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">ref</span>=<span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">{ref}</span>&gt;</span><span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">input</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span> <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">onClick</span>=<span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">{()</span> =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dispatch(createFriend(ref.current.value))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref.current.value = '' // ❗ resetting the input<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}}&gt;create<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{friends.map(fr =&gt; (<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">li</span> <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">key</span>=<span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">{fr.id}</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{fr.name}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span> <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">onClick</span>=<span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">{()</span> =&gt;</span> dispatch(favFriend(fr.id))}&gt;fav<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span> <span style="border: 0px none #005cc5; color: #005cc5; text-decoration: none solid #005cc5;">onClick</span>=<span style="border: 0px none #032f62; color: #032f62; text-decoration: none solid #032f62;">{()</span> =&gt;</span> dispatch(deleteFriend(fr.id))}&gt;del<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{fr.fav &amp;&amp; ' ❤️'}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">li</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/<span style="border: 0px none #22863a; color: #22863a; text-decoration: none solid #22863a;">div</span>&gt;</span></span><br>&nbsp;&nbsp;)<br>}<br></code></pre>
<p><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/finished.png" alt="creating friends" data-api-endpoint="https://bloomtech.instructure.com/api/v1/courses/2204/files/746992" data-api-returntype="File" loading="lazy"></p>
<p>And this concludes your Redux objectives! Make sure to check out your Guided Project and your Module Project.</p>
<p>&nbsp;</p>
</div>
<div class="border border-trbl" style="background-color: #00808c; color: #ffffff; padding: 2px 10px; border: 1px solid black;">
<h3><strong>Video Walkthrough</strong></h3>
</div>
<div class="content-box pad-box-mini border border-rbl">
<p><iframe class="wistia_embed" title="Managing Complex State" src="https://fast.wistia.net/embed/iframe/075m0zgzjd?seo=false&amp;videoFoam=false" width="640" height="360" name="wistia_embed" allow="autoplay; fullscreen" loading="lazy"></iframe></p>
</div>
</body>
</html>