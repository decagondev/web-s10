<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Objective 3 - employ the useReducer hook to manage state in a component</title>
<meta name="identifier" content="gc2e3c2c26a5d60e23f743acadcedfa47"/>
<meta name="editing_roles" content="teachers"/>
<meta name="workflow_state" content="unpublished"/>
</head>
<body>
<h2 id="overview">Overview</h2>
<p>The <code>useReducer</code> hook is an alternative to <code>useState</code> (<code>useState</code> actually uses <code>useReducer</code> hook under the hood). It is preferable when you have complex logic that you have to deal with in a component, or when you find yourself with a lot of state properties (more than 3) in a single component. <code>useReducer</code>, takes in a <code>reducer</code> function (that we build), as well as a value for the <code>initialState</code>. Then it returns both the current state and a dispatch method in an array, just like <code>useState</code> does.</p>
<p><code>const [state, dispatch] = useReducer(reducer, initialState);</code></p>
<p><span>The dispatch method is a significant addition to our arsenal here. It will "dispatch" an action to our reducer when specific events occur in our application. The dispatch allows us to powerfully combine the reducer function from our previous section to maintain our state at the level of the component.</span></p>
<p>The <code>useReducer</code> hook has all the functionality we love from the <code>useState</code> hook and combines it with the power of the reducers we are building ourselves. In doing so, it provides access to both the state and a function that dispatch actions to our reducer.</p>
<h2 id="follow-along">Follow Along</h2>
<p><span>Let's build out a component to go along with our counter reducer. Please pay attention to the comments in the code that will walk us through this process.</span></p>
<pre style="background-image: none; background-attachment: scroll; background-color: #ffffff; border: 1px solid #c7cdd1; clear: none; color: #24292e; cursor: auto; direction: ltr; font-style: normal; font-stretch: normal; font-size: 12px; line-height: 14.4px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px 0px 12px; padding: 9px; text-align: start; text-decoration: none; text-indent: 0px; white-space: pre-wrap; border-collapse: separate; border-spacing: 0px; background-position: 0% 0%; background-repeat: repeat repeat;" data-hljs-language="javascript"><code style="background-image: none; background-attachment: scroll; background-color: rgba(0, 0, 0, 0); border: 0px none #24292e; font-style: normal; font-stretch: normal; font-size: 16px; line-height: 19.200001px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin: 0px; padding: 0px; background-position: 0% 0%; background-repeat: repeat repeat;"><span style="border: 0px none #d73a49; color: #d73a49;">import</span> <span style="border: 0px none #6f42c1; color: #6f42c1;">React</span>, { useReducer } <span style="border: 0px none #d73a49; color: #d73a49;">from</span> <span style="border: 0px none #032f62; color: #032f62;">'react'</span><br><br><span style="border: 0px none #d73a49; color: #d73a49;">const</span> initialState = { <span style="border: 0px none #005cc5; color: #005cc5;">count</span>: <span style="border: 0px none #005cc5; color: #005cc5;">0</span> }<br><span style="border: 0px none #6a737d; color: #6a737d;">// Initial count is established</span><br><br><span style="border: 0px none #6a737d; color: #6a737d;">// We will use the same reducer we created in the previous section</span><br><span style="border: 0px none #d73a49; color: #d73a49;">function</span> <span style="border: 0px none #6f42c1; color: #6f42c1;">reducer</span>(<span>state, action</span>) {<br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">switch</span> (action.<span>type</span>) {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">case</span> <span style="border: 0px none #032f62; color: #032f62;">'INCREASE'</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">return</span> { <span style="border: 0px none #005cc5; color: #005cc5;">count</span>: state.<span>count</span> + <span style="border: 0px none #005cc5; color: #005cc5;">1</span> }<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">case</span> <span style="border: 0px none #032f62; color: #032f62;">'DECREASE'</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">return</span> { <span style="border: 0px none #005cc5; color: #005cc5;">count</span>: state.<span>count</span> - <span style="border: 0px none #005cc5; color: #005cc5;">1</span> }<br>&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #005cc5; color: #005cc5;">default</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">return</span> state<br>&nbsp;&nbsp;}<br>}<br><br><span style="border: 0px none #6a737d; color: #6a737d;">// Create a functional component</span><br><span style="border: 0px none #d73a49; color: #d73a49;">function</span> <span style="border: 0px none #6f42c1; color: #6f42c1;">Counter</span>() {<br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// Use the useReducer hook by destructuring its two properties: state, and dispatch and pass in the reducer and the initialState to the useReducer function</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">const</span> [state, dispatch] = <span style="border: 0px none #6f42c1; color: #6f42c1;">useReducer</span>(reducer, initialState)<br><br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// Return JSX that displays the count for the user</span><br>&nbsp;&nbsp;<span style="border: 0px none #6a737d; color: #6a737d;">// Note the two button elements which allow the user to increase and decrease the count.&nbsp;&nbsp;Each of them contains an onClick event that dispatches the desired action object, with its given type.&nbsp;&nbsp;Each action, when fired, is dispatched to the reducer and the appropriate logic is applied.</span><br>&nbsp;&nbsp;<span style="border: 0px none #d73a49; color: #d73a49;">return</span> (<br>&nbsp;&nbsp;&nbsp;&nbsp;<span><span>&lt;&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/* Note, we have access to the current state and the dispatch method from the useReducer hook, so we can utilize them to display the count as well as couple the dispatching of the actions from the appropriate buttons.*/}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a;">div</span> <span style="border: 0px none #005cc5; color: #005cc5;">className</span>=<span style="border: 0px none #032f62; color: #032f62;">"count"</span>&gt;</span>Count: {state.count}<span>&lt;/<span style="border: 0px none #22863a; color: #22863a;">div</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a;">button</span> <span style="border: 0px none #005cc5; color: #005cc5;">onClick</span>=<span style="border: 0px none #032f62; color: #032f62;">{()</span> =&gt;</span> dispatch({ type: 'INCREASE' })}&gt;+1<span>&lt;/<span style="border: 0px none #22863a; color: #22863a;">button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;<span style="border: 0px none #22863a; color: #22863a;">button</span> <span style="border: 0px none #005cc5; color: #005cc5;">onClick</span>=<span style="border: 0px none #032f62; color: #032f62;">{()</span> =&gt;</span> dispatch({ type: 'DECREASE' })}&gt;-1<span>&lt;/<span style="border: 0px none #22863a; color: #22863a;">button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span>&lt;/&gt;</span></span><br>&nbsp;&nbsp;)<br>}</code></pre>
<h2 id="challenge">Challenge</h2>
<p><span>Create a component that demonstrates the following MVP expectations and uses a reducer function and the useReducer hook to implement the required logic and maintain the state of the component:</span></p>
<ol>
    <li aria-level="1"><span>The user should be able to input a string of text that represents a 'to-do item.'</span></li>
    <li aria-level="1"><span>The user should be able to press a button to submit that 'to-do item.'</span></li>
    <li aria-level="1"><span>The user should be able to submit a 'to-do item' and view it on the screen.</span></li>
</ol>
<p><span>For fun, you could go as far as you would like for stretch, but the main goal of MVP here in this mini-exercise is to be able to locally maintain a list of strings entered by a user by using a reducer function.</span><br><br></p>
</body>
</html>